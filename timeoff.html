<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Time Off</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
  background:#f5f6fa;
  font-family:"Segoe UI", sans-serif;
}

/* NAVBAR */
.navbar {
  background:#fff;
  box-shadow:0 2px 10px rgba(0,0,0,.08);
}
.nav-link { font-weight:500; }

/* STATUS */
.status-circle {
  width:16px;
  height:16px;
  border-radius:50%;
}

/* CARD */
.card-box {
  background:#fff;
  border-radius:14px;
  padding:20px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}

/* TABLE */
.table th {
  background:#f1f3f8;
  font-weight:600;
}

/* BADGES */
.badge-approved { background:#198754; }
.badge-pending { background:#ffc107; color:#000; }
.badge-rejected { background:#dc3545; }
.badge-paid { background:#0d6efd; }
.badge-unpaid { background:#6c757d; }
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar px-4 d-flex justify-content-between align-items-center">

  <!-- LEFT -->
  <div class="d-flex align-items-center gap-4">
    <img id="companyLogo" height="38" style="cursor:pointer"
         onclick="location.href='afterlogin.html'">

    <a class="nav-link" href="Employee.html">Employee</a>
    <a class="nav-link fw-semibold text-primary">Attendance</a>
    <a class="nav-link" href="timeoff.html">Time Off</a>
            <a class="nav-link" href="afterlogin.html">Dashboard</a>

  </div>

  <!-- RIGHT -->
  <div class="d-flex align-items-center gap-3">

    <!-- STATUS -->
    <div id="statusCircle" class="status-circle bg-danger"></div>

    <!-- PROFILE DROPDOWN -->
    <div class="dropdown">
      <img src="assets/user.png"
           id="profilePic"
           class="rounded-circle dropdown-toggle"
           data-bs-toggle="dropdown"
           style="width:40px;height:40px;cursor:pointer">

      <ul class="dropdown-menu dropdown-menu-end">
        <li>
          <a class="dropdown-item" href="myprofile.html">
            <i class="fa fa-user me-2"></i>My Profile
          </a>
        </li>
        <li>
          <a class="dropdown-item text-danger" onclick="logout()">
            <i class="fa fa-sign-out-alt me-2"></i>Logout
          </a>
        </li>
      </ul>
    </div>

  </div>
</nav>

</nav>


<div class="container mt-4">

  <!-- CONTROLS -->
  <div class="d-flex flex-wrap align-items-center gap-2 mb-4">
    

    <select class="form-select w-auto">
      <option>January</option>
      <option selected>October</option>
      <option>November</option>
      <option>December</option>
    </select>

    <select class="form-select w-auto">
      <option>2024</option>
      <option selected>2025</option>
      <option>2026</option>
    </select>

    <button class="btn btn-primary ms-auto">
      <i class="fas fa-plus"></i> Request Time Off
    </button>
  </div>

  <!-- SUMMARY -->
  <div class="row g-3 mb-4">
    <div class="col-md-4">
      <div class="card-box text-center">
        Total Leaves<br><strong class="text-primary">12</strong>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card-box text-center">
        Used Leaves<br><strong class="text-danger">5</strong>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card-box text-center">
        Remaining<br><strong class="text-success">7</strong>
      </div>
    </div>
  </div>

  <!-- TABLE -->
  <div class="card-box">
    <div class="fw-semibold mb-3">Time Off Requests</div>

    <div class="table-responsive">
      <table class="table align-middle">
        <thead>
          <tr>
            <th>StartDate</th>
            <th>End Date</th>
            <th>Leave Type</th>
            <th>Paid / Unpaid</th>
            <th>Reason</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>10/10/2025</td>
            <td>12/10/2025</td>
            <td>Sick Leave</td>
            <td><span class="badge badge-paid">Paid</span></td>
            <td>Fever</td>
            <td><span class="badge badge-approved">Approved</span></td>
          </tr>

          <tr>
            <td>20/10/2025</td>
            <td>21/10/2025</td>
            <td>Casual</td>
            <td><span class="badge badge-unpaid">Unpaid</span></td>
            <td>Personal</td>
            <td><span class="badge badge-pending">Pending</span></td>
          </tr>

          <tr>
            <td>25/10/2025</td>
            <td>26/10/2025</td>
            <td>Emergency</td>
            <td><span class="badge badge-unpaid">Unpaid</span></td>
            <td>Family</td>
            <td><span class="badge badge-rejected">Rejected</span></td>
          </tr>

        </tbody>
      </table>
    </div>
  </div>

</div>

<script>
/* COMPANY LOGO */
const logo = localStorage.getItem("companyLogo");
if (logo) document.getElementById("companyLogo").src = logo;

/* PROFILE PIC */
const pic = localStorage.getItem("profilePic");
if (pic) document.getElementById("profilePic").src = pic;

/* STATUS (DB READY) */
function updateStatus(){
  const status = localStorage.getItem("isPresentToday") === "true";
  const circle = document.getElementById("statusCircle");

  circle.classList.remove("bg-success","bg-danger");
  circle.classList.add(status ? "bg-success" : "bg-danger");
}

// run on page load
updateStatus();
document.getElementById("statusCircle").className =
  "status-circle " + (isPresentToday ? "bg-success" : "bg-danger");

/* LOGOUT */
function logout(){
  localStorage.clear();
  window.location.href = "login.html";
}
</script>

</body>
</html>
